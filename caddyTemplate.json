{"admin":{"listen":"0.0.0.0:2019"},"logging":{"logs":{"default":{"exclude":["http.log.access.log1","http.log.access.log0"],"writer":{"output":"file","filename":"/var/log/caddy.log"}},"log0":{"writer":{"output":"file","filename":"/var/log/vanblog-access.log"},"include":["http.log.access.log0"],"encoder":{"format":"json"}},"log1":{"writer":{"output":"file","filename":"/var/log/vanblog-access.log"},"include":["http.log.access.log1"],"encoder":{"format":"json"}}}},"apps":{"tls":{"automation":{"on_demand":{"ask":"http://127.0.0.1:3000/api/admin/caddy/ask"},"policies":[{"on_demand":true,"issuers":[{"email":"VAN_BLOG_EMAIL","module":"acme"},{"email":"VAN_BLOG_EMAIL","module":"zerossl"}]}]}},"http":{"servers":{"srv1":{"routes":[{"handle":[{"handler":"encode","prefer":["zstd","gzip"],"encodings":{"gzip":{},"zstd":{}}}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"/sitemap.xml","replace":"/sitemap/sitemap.xml"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["/sitemap.xml"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","strip_path_prefix":"VAN_BLOG_BASE_P/api"},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/api/comment"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P/feed.json","replace":"/rss/feed.json"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/feed.json"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/comment*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P/favicon","replace":"/static/img/favicon"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/favicon*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/static/*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["/custom/*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P/feed.xml","replace":"/rss/feed.xml"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/feed.xml"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P/feed.xml","replace":"/rss/atom.xml"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/atom.xml"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/swagger*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/token*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/oauth*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","strip_path_prefix":"VAN_BLOG_BASE_P/admin"}]},{"handle":[{"handler":"vars","root":"/app/admin"}]},{"handle":[{"handler":"rewrite","uri":"{http.matchers.file.relative}"}],"match":[{"file":{"try_files":["{http.request.uri.path}","/index.html"]}}]},{"handle":[{"handler":"file_server","hide":["./CaddyfileTemplate"]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/admin*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/user*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["/rss/*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/api/*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/ui*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["/db*"]}]},{"group":"group40","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/c/*"]}]},{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3001"}]}]}],"logs":{"default_logger_name":"log0"},"listen":[":80"]},"srv0":{"routes":[{"handle":[{"handler":"encode","prefer":["zstd","gzip"],"encodings":{"gzip":{},"zstd":{}}}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"/sitemap.xml","replace":"/sitemap/sitemap.xml"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["/sitemap.xml"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","strip_path_prefix":"VAN_BLOG_BASE_P/api"},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/api/comment"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P/feed.json","replace":"/rss/feed.json"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/feed.json"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/comment*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P/favicon","replace":"/static/img/favicon"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/favicon*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/static/*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["/custom/*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P/feed.xml","replace":"/rss/feed.xml"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/feed.xml"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P/feed.xml","replace":"/rss/atom.xml"}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/atom.xml"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/swagger*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/token*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/oauth*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","strip_path_prefix":"VAN_BLOG_BASE_P/admin"}]},{"handle":[{"handler":"vars","root":"/app/admin"}]},{"handle":[{"handler":"rewrite","uri":"{http.matchers.file.relative}"}],"match":[{"file":{"try_files":["{http.request.uri.path}","/index.html"]}}]},{"handle":[{"handler":"file_server","hide":["./CaddyfileTemplate"]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/admin*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/user*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["/rss/*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/api/*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/ui*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"trusted_proxies":["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8","127.0.0.1/8","fd00::/8","::1"],"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:8360"}]}]}],"handler":"subroute"}],"match":[{"path":["/db*"]}]},{"group":"group38","handle":[{"routes":[{"handle":[{"handler":"rewrite","uri_substring":[{"find":"VAN_BLOG_BASE_P","replace":""}]},{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3000"}]}]}],"handler":"subroute"}],"match":[{"path":["VAN_BLOG_BASE_P/c/*"]}]},{"handle":[{"handler":"reverse_proxy","upstreams":[{"dial":"127.0.0.1:3001"}]}]}],"tls_connection_policies":[{}],"logs":{"default_logger_name":"log1"},"listen":[":443"]}}}}}
